---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "enos_vault_start Resource - terraform-provider-enos"
subcategory: ""
description: |-
  The enos_vault_start resource is capable of configuring and starting a Vault
  service. It handles creating the configuration directory, the configuration file,
  the license file, the systemd unit, and starting the service.
  NOTE: Until recently we were not able to implement optional attributes for the config attribute.
  As such, you will need to provide all values except for seals until we make all config optional.
---

# enos_vault_start (Resource)

The `enos_vault_start` resource is capable of configuring and starting a Vault
service. It handles creating the configuration directory, the configuration file,
the license file, the systemd unit, and starting the service.

*NOTE: Until recently we were not able to implement optional attributes for the config attribute.
As such, you will need to provide _all_ values except for `seals` until we make all config optional.*



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bin_path` (String) The fully qualified path to the vault binary
- `config` (Object) - `config.api_addr` (String) The Vault [api_addr](https://developer.hashicorp.com/vault/docs/configuration#api_addr) value
- `config.cluster_addr` (String) The Vault [cluster_addr](https://developer.hashicorp.com/vault/docs/configuration#cluster_addr) value
- `config.cluster_name` (String) The Vault [cluster_addr](https://developer.hashicorp.com/vault/docs/configuration#cluster_addr) value
- `config.listener` (Object) The Vault [listener](https://developer.hashicorp.com/vault/docs/configuration/listener) stanza
- `config.listener.type` (String) The Vault [listener](https://developer.hashicorp.com/vault/docs/configuration/listener/tcp) stanza value. Currently 'tcp' is the only supported listener
- `config.listener.attributes` (Object) The Vault [listener](https://developer.hashicorp.com/vault/docs/configuration/listener/tcp#tcp-listener-parameters) parameters for the tcp listener
- `config.log_level` (String) The Vault [log_level](https://developer.hashicorp.com/vault/docs/configuration#log_level)
- `config.storage` (Object) The Vault [storage](https://developer.hashicorp.com/vault/docs/configuration/storage) stanza
- `config.storage.type` (String) The Vault [storage](https://developer.hashicorp.com/vault/docs/configuration/storage) type
- `config.storage.attributes` (Object) The Vault [storage](https://developer.hashicorp.com/vault/docs/configuration/storage) parameters for the given storage type
- `config.seal` (Object) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) stanza
- `config.seal.type` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) type
- `config.seal.attributes` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) parameters for the given seal type
- `config.seals` (Object) Vault Enterprise [HA seal](https://developer.hashicorp.com/vault/docs/configuration/seal/seal-ha) configuration. Cannot be used in conjunction with `config.seal`. Up to three seals can be defined but only one is required.
- `config.seals.primary` (Object) The primary [HA seal](https://developer.hashicorp.com/vault/docs/configuration/seal/seal-ha) stanza. Primary has priority 1
- `config.seals.primary.type` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) type
- `config.seals.primary.attributes` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) parameters for the given seal type
- `config.seals.secondary` (Object) The secondary [HA seal](https://developer.hashicorp.com/vault/docs/configuration/seal/seal-ha) stanza. Secondary has priority 2
- `config.seals.secondary.type` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) type
- `config.seals.secondary.attributes` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) parameters for the given seal type
- `config.seals.tertiary` (Object) The tertiary [HA seal](https://developer.hashicorp.com/vault/docs/configuration/seal/seal-ha) stanza. Tertiary has priority 3
- `config.seals.tertiary.type` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) type
- `config.seals.tertiary.attributes` (String) The Vault [seal](https://developer.hashicorp.com/vault/docs/configuration/seal) parameters for the given seal type (see [below for nested schema](#nestedatt--config))

### Optional

- `config_dir` (String) The path where Vault configuration will reside
- `environment` (Map of String) An optional map of key/value pairs for additional environment variables to set when running the vault service.
- `license` (String, Sensitive) The Vault Enterprise license
- `manage_service` (Boolean) Whether or not Enos will be responsible for creating and managing the systemd unit for Vault
- `transport` (Dynamic) - `transport.ssh` (Object) the ssh transport configuration
- `transport.ssh.user` (String) the ssh login user|string
- `transport.ssh.host` (String) the remote host to access
- `transport.ssh.private_key` (String) the private key as a string
- `transport.ssh.private_key_path` (String) the path to a private key file
- `transport.ssh.passphrase` (String) a passphrase if the private key requires one
- `transport.ssh.passphrase_path` (String) a path to a file with the passphrase for the private key
- `transport.kubernetes` (Object) the kubernetes transport configuration
- `transport.kubernetes.kubeconfig_base64` (String) base64 encoded kubeconfig
- `transport.kubernetes.context_name` (String) the name of the kube context to access
- `transport.kubernetes.namespace` (String) the namespace of pod to access
- `transport.kubernetes.pod` (String) the name of the pod to access|string
- `transport.kubernetes.container` (String) the name of the container to access
- `transport.nomad` (Object) the nomad transport configuration
- `transport.nomad.host` (String) nomad server host, i.e. http://23.56.78.9:4646
- `transport.nomad.secret_id` (String) the nomad server secret for authenticated connections
- `transport.nomad.allocation_id` (String) the allocation id for the allocation to access
- `transport.nomad.task_name` (String) the name of the task within the allocation to access
- `unit_name` (String) The systemd unit name
- `username` (String) The local service user name

### Read-Only

- `id` (String) The resource identifier is always static
- `status` (Number) The Vault status code returned when starting the service.

|code|meaning|
|0|Initialized, Unsealed|
|1|Error|
|2|Sealed|
|9|Unknown, we couldn't get the status from Vault|

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Required:

- `api_addr` (String)
- `cluster_addr` (String)
- `cluster_name` (String)
- `listener` (Object) (see [below for nested schema](#nestedobjatt--config--listener))
- `log_level` (String)
- `seal` (Object) (see [below for nested schema](#nestedobjatt--config--seal))
- `seals` (Dynamic)
- `storage` (Object) (see [below for nested schema](#nestedobjatt--config--storage))
- `ui` (Boolean)

<a id="nestedobjatt--config--listener"></a>
### Nested Schema for `config.listener`

Required:

- `attributes` (Dynamic)
- `type` (String)


<a id="nestedobjatt--config--seal"></a>
### Nested Schema for `config.seal`

Required:

- `attributes` (Dynamic)
- `type` (String)


<a id="nestedobjatt--config--storage"></a>
### Nested Schema for `config.storage`

Required:

- `attributes` (Dynamic)
- `type` (String)
